# Retry Handler Component Diagram
# C4 Level 3 - Component
# Architecture: AWS Lambda + Go
# Description: Consumes from DLQ, implements exponential backoff (60s/240s/960s), re-enqueues or marks PERMANENTLY_FAILED after 3 retries

direction: right

retry-handler: "Retry Handler" {
  tooltip: "Consumes from DLQ, implements exponential backoff (60s/240s/960s), re-enqueues or marks PERMANENTLY_FAILED after 3 retries"
}

# Relationships
retry-handler -> notification-service/message-queue/email-queue: "re-enqueues email"
retry-handler -> notification-service/message-queue/sms-queue: "re-enqueues SMS"
retry-handler -> notification-service/data-store/notifications-table: "marks PERMANENTLY_FAILED"
